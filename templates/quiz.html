<!-- Margaret Flemings and Maggie Jennings -->
<!-- Template for the quiz page, currently loads all questions from a deck on the same page-->
<!-- Counting idea from: https://stackoverflow.com/questions/7537439/how-to-increment-a-variable-on-a-for-loop-in-jinja-template -->
{% extends 'codemode.html' %}
  {% block content %}
  <form id="test-form" method='post'>
    <!-- count number of questions so we can loop through them later -->
    {% set count = [0] %}
    {% for question in questions %}
  <div class="question{{ count }}">
	 <p data-answer="{{question['answer']}}" data-question="q{{ count }}">{{count[0]}}. {{question['questionText']}}</p>
	    {% if question['qtype'] == 'multi' %}
      <!-- for each multiple choice question show options -->
         <input type="radio" name="q{{ count }}" value="{{question['answer']}}">{{question['answer']}}<br>
	       <input type="radio" name="q{{ count }}" value="{{question['wrong1']}}">{{question['wrong1']}}<br>
 	       <input type="radio" name="q{{ count }}" value="{{question['wrong2']}}">{{question['wrong2']}}<br>
 	       <input type="radio" name="q{{ count }}" value="{{question['wrong3']}}">{{question['wrong3']}}<br>
	    {% else %}
		    {% if question['qtype'] == 'truefalse' %}
        <!-- true or false questions -->
				 <input type="radio" name="q{{ count }}" value="true">True<br>
 	       <input type="radio" name="q{{ count }}" value="False">False<br>
        {% else %}
            <!-- question is fill in blank -->
            <input type="text" name="q{{ count }}">
        {% endif%}
      {% endif %}
      <br>
      <div id="questionResult"></div>
      <div id="explanation"></div>
    </div>
      <!-- increment counter -->
      {% if count.append(count.pop() + 1) %}
      {% endif %}
      {% endfor %}
      <input type="submit" name="submit"></input>
      <div id="totalResult"></div>
      </form>
      <script>
        
      </script>
 {% endblock %}
