<!-- Margaret Flemings and Maggie Jennings -->
<!-- Template for the quiz page, currently loads all questions from a deck on the same page-->
<!-- Counting from: https://stackoverflow.com/questions/7537439/how-to-increment-a-variable-on-a-for-loop-in-jinja-template -->
{% extends 'codemode.html' %}
  {% block content %}

  <form i="test-form" method="POST">
    {% set count = [0] %}
    {% for question in questions %}
  <div class="question{{ count }}">
	 <p data-answer="{{question['answer']}}" data-question="q{{ count }}">{{question['questionText']}}</p>

     <p>You answered: {{ form[count[0]] }}</p>
     
      <br>
      <div id="questionResult">
        {% if results[count[0]] %}
          Correct!
        {% else %}
          Wrong!
        {% endif %}
      </div>
      <div id="explanation">{{question['explanation']}}</div>
    </div>
      {% if count.append(count.pop() + 1) %}
      {% endif %}
      {% endfor %}
      <input type="submit" name="submit"></input>
  </form>
  {% if count.append(count.pop() + 1) %}
  {% endif %}
      <div id="totalResult">{{results[count[0]]}}</div>

 {% endblock %}
